
/**
 * Write a description of class Graphics here.
 *
 * @author (your name)
 * @version (a version number or a date)
 */
import javax.swing.*;
import java.awt.Color;

import java.awt.event.*;

public class Button implements ActionListener{ 

    private JButton b;
    private int value;
    private String label;
    private boolean isUndo;
    private boolean isNum;
    private boolean isGreen = false;
    private static boolean oneSelected = false;
    private static boolean twoSelected = false;
    private static boolean opSelected = false;
    private static int numSelected = 0;
    private static Button num1;
    private static Button num2;
    private static String op;
    private int xVal;
    private int yVal;
    MakeGame game = new MakeGame();
    
    public Button(){}
    
    public Button(String l,int x,int y, int width, int height,boolean u)
    {
        isNum = false;
        isUndo=u;
        b=new JButton(l);
        b.setBounds(x,y,width, height);
        b.addActionListener(this);
        label=l;
        xVal = x;
        yVal = y;
    }
     public Button(int val,int x,int y, int width, int height)
    {
        isNum = true;
        value = val;
        b=new JButton(""+val);
        b.setBounds(x,y,width, height);
        b.addActionListener(this);
        
    }
    
    public int getVal()
    {
        return value;
    }
    public String getOp()
    {
        return op;
    }
    public Button getNum1()
    {
        return num1;
    }
    public Button getNum2()
    {
        return num2;
    }
    public JButton getB()
    {
        return b;
    }
    public int getX()
    {
        return xVal;
    }
    public int getY()
    {
        return yVal;
    }
    
    

     public void actionPerformed(ActionEvent e) {
        
         
         if (isGreen == false && !isUndo && numSelected == 0 && isNum)
         {
         b.setBackground(Color.GREEN);
         b.setOpaque(true);
         isGreen = true;
         numSelected++;
        }
        else if (isGreen == false && !isUndo && numSelected == 1 && !isNum)
         {
         b.setBackground(Color.GREEN);
         b.setOpaque(true);
         isGreen = true;
         numSelected++;
        }
        else if (isGreen == false && !isUndo && numSelected == 2 && isNum)
         {
         b.setBackground(Color.GREEN);
         b.setOpaque(true);
         isGreen = true;
         game.doOperation();
         numSelected++;
        }
        else if (isGreen == true) 
        {
            
         b.setOpaque(false);
         isGreen = false;
         numSelected--;
        }
        
        
        
        if (isNum)
        {
            if (oneSelected == false)
            {
                num1 = this;
                oneSelected = true;
            }
            else if (twoSelected == false)
            {
                num2 = this;
                twoSelected = true;
            }
        }
        
        if (value == num1.getVal())
        {

            oneSelected = false;
        }
        
        if (!isNum && !opSelected)
        {
            opSelected = true;
            op = label;
        }
        else if (!isNum && opSelected && isGreen)
        {
            opSelected = false;
        }
        }
    }
